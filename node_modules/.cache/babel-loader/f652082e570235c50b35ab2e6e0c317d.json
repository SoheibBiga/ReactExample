{"ast":null,"code":"var _jsxFileName = \"/Users/Soheib/Documents/Git/react-interview/src/App.js\";\nimport React, { Component } from \"react\";\nimport { MdReplay, MdChevronLeft, MdChevronRight } from \"react-icons/md\";\nimport { AiFillCaretLeft, AiFillCaretRight } from \"react-icons/ai\";\nimport Movie from \"./Movie\";\nimport Multiselect from \"./Multiselect\";\nimport FlipMove from \"react-flip-move\";\nimport { movies$ } from \"./movies\";\nimport \"./App.css\";\nexport default class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      filter: [],\n      display: 4,\n      page: 1\n    };\n  }\n\n  componentDidMount() {\n    this.getMovies();\n  }\n\n  getMovies() {\n    movies$.then(movies => this.setState({\n      movies: JSON.parse(JSON.stringify(movies)),\n      maxPages: Math.ceil(movies.length / this.state.display)\n    }, () => {\n      this.setState({\n        filteredMovies: this.state.movies\n      });\n    }));\n  }\n\n  getIndex(id) {\n    let index = this.state.movies.findIndex(movie => movie.id === id);\n    if (index >= 0) return index;\n    return -1;\n  }\n\n  deleteMovie(id) {\n    let movies = this.state.movies;\n    let index = this.getIndex(id);\n\n    if (index >= 0) {\n      movies.splice(index, 1);\n      this.setState({\n        movies\n      }, () => {\n        this.setMaxPages();\n        this.getFilteredMovies();\n      });\n    }\n  }\n\n  likeMovie(id) {\n    let movies = this.state.movies;\n    movies[this.getIndex(id)].likes++;\n    this.setState({\n      movies\n    });\n  }\n\n  dislikeMovie(id) {\n    let movies = this.state.movies;\n    movies[this.getIndex(id)].dislikes++;\n    this.setState({\n      movies\n    });\n  }\n\n  getCategories() {\n    if (!this.state.movies) return null;\n    let categories = [];\n    this.state.movies.forEach(movie => {\n      categories.push(movie.category);\n    });\n    return categories.filter((key, idx) => categories.lastIndexOf(key) === idx);\n  }\n\n  selectCategory(category) {\n    let index = this.state.filter.findIndex(cat => cat === category);\n\n    if (index === -1) {\n      this.setState(prevState => ({\n        filter: [...prevState.filter, category],\n        page: 1\n      }), () => this.getFilteredMovies());\n    } else {\n      let filter = this.state.filter;\n      filter.splice(index, 1);\n      this.setState({\n        filter,\n        page: 1\n      }, () => this.getFilteredMovies());\n    }\n  }\n\n  getFilteredMovies() {\n    let filteredMovies = this.state.movies.filter(movie => this.state.filter.length === 0 || this.state.filter.find(cat => cat === movie.category));\n\n    if (filteredMovies.length === 0) {\n      this.setState({\n        filter: [],\n        filteredMovies: this.state.movies\n      }, () => this.setMaxPages());\n    } else {\n      this.setState({\n        filteredMovies\n      }, () => this.setMaxPages());\n    }\n  }\n\n  selectDisplay(count) {\n    this.setState({\n      display: count,\n      page: 1\n    }, () => this.setMaxPages());\n  }\n\n  nextPage(count) {\n    let newPage = this.state.page + count;\n    if (newPage > 0 && newPage <= this.state.maxPages) this.setState({\n      page: newPage\n    });\n  }\n\n  setMaxPages() {\n    this.setState({\n      maxPages: Math.ceil(this.state.filteredMovies.length / this.state.display)\n    }, () => {\n      if (this.state.page > this.state.maxPages) {\n        this.changePage(-1);\n      }\n    });\n  }\n\n  renderMovies() {\n    if (!this.state.movies || !this.state.filteredMovies) return null;\n    let counter = 0;\n    let pageCounter = (this.state.page - 1) * this.state.display;\n    return this.state.filteredMovies.map((movie, index) => {\n      if (counter === this.state.display || index < pageCounter) return null;\n      counter++;\n      return /*#__PURE__*/React.createElement(Movie, {\n        key: movie.id,\n        id: movie.id,\n        title: movie.title,\n        category: movie.category,\n        likes: movie.likes,\n        dislikes: movie.dislikes,\n        onDelete: id => this.deleteMovie(id),\n        onLike: id => this.likeMovie(id),\n        onDislike: id => this.dislikeMovie(id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 5\n        }\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Multiselect, {\n      type: \"categories\",\n      options: this.getCategories(),\n      onSelect: category => this.selectCategory(category),\n      multiple: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(Multiselect, {\n      type: \"display\",\n      options: [4, 8, 12],\n      onSelect: count => this.selectDisplay(count),\n      multiple: false,\n      selected: 4,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 6\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 5\n      }\n    }, this.renderMovies()), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nav page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 5\n      }\n    }, \"Page \", this.state.page, /*#__PURE__*/React.createElement(AiFillCaretLeft, {\n      onClick: () => this.changePage(-1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 6\n      }\n    }), /*#__PURE__*/React.createElement(AiFillCaretRight, {\n      onClick: () => this.changePage(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 6\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/Soheib/Documents/Git/react-interview/src/App.js"],"names":["React","Component","MdReplay","MdChevronLeft","MdChevronRight","AiFillCaretLeft","AiFillCaretRight","Movie","Multiselect","FlipMove","movies$","App","constructor","state","filter","display","page","componentDidMount","getMovies","then","movies","setState","JSON","parse","stringify","maxPages","Math","ceil","length","filteredMovies","getIndex","id","index","findIndex","movie","deleteMovie","splice","setMaxPages","getFilteredMovies","likeMovie","likes","dislikeMovie","dislikes","getCategories","categories","forEach","push","category","key","idx","lastIndexOf","selectCategory","cat","prevState","find","selectDisplay","count","nextPage","newPage","changePage","renderMovies","counter","pageCounter","map","title","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { MdReplay, MdChevronLeft, MdChevronRight } from \"react-icons/md\";\nimport { AiFillCaretLeft, AiFillCaretRight } from \"react-icons/ai\";\nimport Movie from \"./Movie\";\nimport Multiselect from \"./Multiselect\";\nimport FlipMove from \"react-flip-move\";\nimport { movies$ } from \"./movies\";\nimport \"./App.css\";\n\nexport default class App extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tfilter: [],\n\t\t\tdisplay: 4,\n\t\t\tpage: 1\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getMovies();\n\t}\n\n\tgetMovies() {\n\t\tmovies$.then(movies =>\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tmovies: JSON.parse(JSON.stringify(movies)),\n\t\t\t\t\tmaxPages: Math.ceil(movies.length / this.state.display)\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfilteredMovies: this.state.movies\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t)\n\t\t);\n\t}\n\n\tgetIndex(id) {\n\t\tlet index = this.state.movies.findIndex(movie => movie.id === id);\n\t\tif (index >= 0) return index;\n\t\treturn -1;\n\t}\n\n\tdeleteMovie(id) {\n\t\tlet movies = this.state.movies;\n\t\tlet index = this.getIndex(id);\n\t\tif (index >= 0) {\n\t\t\tmovies.splice(index, 1);\n\t\t\tthis.setState({ movies }, () => {\n\t\t\t\tthis.setMaxPages();\n\t\t\t\tthis.getFilteredMovies();\n\t\t\t});\n\t\t}\n\t}\n\n\tlikeMovie(id) {\n\t\tlet movies = this.state.movies;\n\t\tmovies[this.getIndex(id)].likes++;\n\t\tthis.setState({\n\t\t\tmovies\n\t\t});\n\t}\n\n\tdislikeMovie(id) {\n\t\tlet movies = this.state.movies;\n\t\tmovies[this.getIndex(id)].dislikes++;\n\t\tthis.setState({\n\t\t\tmovies\n\t\t});\n\t}\n\n\tgetCategories() {\n\t\tif (!this.state.movies) return null;\n\n\t\tlet categories = [];\n\t\tthis.state.movies.forEach(movie => {\n\t\t\tcategories.push(movie.category);\n\t\t});\n\t\treturn categories.filter((key, idx) => categories.lastIndexOf(key) === idx);\n\t}\n\n\tselectCategory(category) {\n\t\tlet index = this.state.filter.findIndex(cat => cat === category);\n\t\tif (index === -1) {\n\t\t\tthis.setState(\n\t\t\t\tprevState => ({\n\t\t\t\t\tfilter: [...prevState.filter, category],\n\t\t\t\t\tpage: 1\n\t\t\t\t}),\n\t\t\t\t() => this.getFilteredMovies()\n\t\t\t);\n\t\t} else {\n\t\t\tlet filter = this.state.filter;\n\t\t\tfilter.splice(index, 1);\n\t\t\tthis.setState({ filter, page: 1 }, () => this.getFilteredMovies());\n\t\t}\n\t}\n\n\tgetFilteredMovies() {\n\t\tlet filteredMovies = this.state.movies.filter(\n\t\t\tmovie =>\n\t\t\t\tthis.state.filter.length === 0 ||\n\t\t\t\tthis.state.filter.find(cat => cat === movie.category)\n\t\t);\n\t\tif (filteredMovies.length === 0) {\n\t\t\tthis.setState({ filter: [], filteredMovies: this.state.movies }, () =>\n\t\t\t\tthis.setMaxPages()\n\t\t\t);\n\t\t} else {\n\t\t\tthis.setState(\n\t\t\t\t{\n\t\t\t\t\tfilteredMovies\n\t\t\t\t},\n\t\t\t\t() => this.setMaxPages()\n\t\t\t);\n\t\t}\n\t}\n\n\tselectDisplay(count) {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tdisplay: count,\n\t\t\t\tpage: 1\n\t\t\t},\n\t\t\t() => this.setMaxPages()\n\t\t);\n\t}\n\n\tnextPage(count) {\n\t\tlet newPage = this.state.page + count;\n\t\tif (newPage > 0 && newPage <= this.state.maxPages)\n\t\t\tthis.setState({\n\t\t\t\tpage: newPage\n\t\t\t});\n\t}\n\n\tsetMaxPages() {\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tmaxPages: Math.ceil(this.state.filteredMovies.length / this.state.display)\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tif (this.state.page > this.state.maxPages) {\n\t\t\t\t\tthis.changePage(-1);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n\n\trenderMovies() {\n\t\tif (!this.state.movies || !this.state.filteredMovies) return null;\n\n\t\tlet counter = 0;\n\t\tlet pageCounter = (this.state.page - 1) * this.state.display;\n\t\treturn this.state.filteredMovies.map((movie, index) => {\n\t\t\tif (counter === this.state.display || index < pageCounter) return null;\n\n\t\t\tcounter++;\n\t\t\treturn (\n\t\t\t\t<Movie\n\t\t\t\t\tkey={movie.id}\n\t\t\t\t\tid={movie.id}\n\t\t\t\t\ttitle={movie.title}\n\t\t\t\t\tcategory={movie.category}\n\t\t\t\t\tlikes={movie.likes}\n\t\t\t\t\tdislikes={movie.dislikes}\n\t\t\t\t\tonDelete={id => this.deleteMovie(id)}\n\t\t\t\t\tonLike={id => this.likeMovie(id)}\n\t\t\t\t\tonDislike={id => this.dislikeMovie(id)}\n\t\t\t\t/>\n\t\t\t);\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"nav\">\n\t\t\t\t\t<Multiselect\n\t\t\t\t\t\ttype=\"categories\"\n\t\t\t\t\t\toptions={this.getCategories()}\n\t\t\t\t\t\tonSelect={category => this.selectCategory(category)}\n\t\t\t\t\t\tmultiple={true}\n\t\t\t\t\t/>\n\t\t\t\t\t<Multiselect\n\t\t\t\t\t\ttype=\"display\"\n\t\t\t\t\t\toptions={[4, 8, 12]}\n\t\t\t\t\t\tonSelect={count => this.selectDisplay(count)}\n\t\t\t\t\t\tmultiple={false}\n\t\t\t\t\t\tselected={4}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"card-container\">{this.renderMovies()}</div>\n\t\t\t\t<div className=\"nav page\">\n          Page {this.state.page}\n\t\t\t\t\t<AiFillCaretLeft onClick={() => this.changePage(-1)} />\n\t\t\t\t\t<AiFillCaretRight onClick={() => this.changePage(1)} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n"]},"metadata":{},"sourceType":"module"}